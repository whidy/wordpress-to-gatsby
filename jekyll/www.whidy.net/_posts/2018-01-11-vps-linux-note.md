---
author: whidy
comments: true
date: 2018-01-11 01:15:08+00:00
excerpt: 近日购买了个美国的VPS，为了愉快的查阅资料和关注一些不错的视频，搭了个梯子，自己种番茄，也从此走上了不归路，这是我近期玩VPS的一点点小感想~
template: post
link: http://www.whidy.net/vps-linux-note.html
slug: /vps-linux-note
title: 购买VPS后折腾小记
wordpress_id: 3063
category: '开发'
tags:
- 网站
---

由于多次购买番茄烂了，老板跑路，损失几百。于是决定自己搭架子种番茄。正巧碰上小熊前不久买了个VPS，简单看了下，还不错，关键是性价比极高，二话不说就买了。

按照服务器商家的购买流程，首选了Ubuntu 16.04系统，其实之前对VPS一无所知，也不知道是纯命令界面。读大学的时候就装过Ubuntu 10.xx不过那时候完全是好奇尝新，也没学到个啥。

购买完了，后台给了个IP，研究了下，就想着怎么折腾，不过这个后台太简单了吧，只有reboot，boot，shutdown和完全不知道干啥用的console什么的，去查了下，也没看懂，就先不管了。

此刻的我面对这个VPS后台，心想怎么操作呢= =，只玩过虚拟主机的我，感觉像是乡下来的土鳖，翻遍了整个服务商提供的页面，也没找到个什么所以然。只得百度一下VPS怎么玩，才知道原来一般来说只有SSH连接工具连接，纯命令操作。。。此刻一脸懵逼的我，下了个XShell，因为看到是共享软件，就去找了个绿色破解版，至此走上不归路。。。

其实刚开始用这个破解版的XShell都挺好，连接上了后，安装番茄工具，简单配置，一切顺利，晚上测了一下速度，棒棒哒，美滋滋。第一天夜晚很顺利，我就安心的睡了。直到第二天。。。

早上，想测测番茄发育良好不。发现咋突然烂了- -。这一晚上就挂了，然后开机发现服务器Offline了。怎么就无缘无故Offline了呢，手动Boot一下，好了，可是没过半分钟，又Offline了。完全无法正常使用，然后开始了一天ticket和客服对话中，很糟糕的客服体验，折磨了我两天，后来才知道，服务器遭到DDOS攻击，流量一晚上偷跑30多G，而且带宽只要一连接就处于满载状态，VPS自动进入休眠策略，这可咋办，我想利用每次连接不到1分钟的时间来搞防火墙等安全措施，基本上都失败了，一方面对网络安全不是很懂，另一方面也不熟悉Linux系统的相关命令，在纯命令行模式下操作对我来说是极大的挑战。所以对于这次DDOS攻击的防御战中，我是彻底失败了。最后和效率极低的客服终于沟通完了，重装了CentOS系统。之所以沟通很费劲，是因为客服回复效率超低，每次等1-3小时不等，而且他们没有给后台权限，就是用户自主决定重装系统的权限，他们有两个后台，以为我有，我其实没有，所以根本没法重装，就这样一脸懵逼的郁闷到了第三天。

Control Panel Permission Accessed Day简直爽歪歪，重装系统后，SSH操作也顺利得多了。不过好不容易搞明白apt-get，现在又来个yum，虽然差不多- -又开始折腾CentOS的路上，种番茄依赖Python等，然后还有各种版本的Python，网上资料大部分写的不够细致，或者不适合我的环境，经常在操作的过程中发生各种异常情况，结果系统似乎被我搞得一团糟。总结了流程和相关要点后，我再次重装了系统，采用了傻瓜式一键安装包。。。简直傻瓜得不能再傻瓜了，半小时不到就搞好了- -，看来我这种小白还是适合一键安装 :-?

之后我的番茄地很稳定，没有什么异形攻击，除了我自己时不时在研究iptables和netstat命令以及kill -s搞毁了之外。。。

在之后，闲着无聊就测速。由于是OpenVZ构架的VPS，我又开始琢磨怎么加速，什么BBR加速之类的，又看了好多教程资料。鼓捣了一阵子，其实到底有没有效果我还真的没有确切的答案。反正差不多就这样了。

这几天又研究搞nodejs环境打网站了。。。感觉这几天玩VPS虽然有很多坑，但是还是挺开心的。还学会了不少Linux的操作，VIM操作（以前就知道vim觉得简直反人类，现在稍微用了下虽然还是感觉很反人类，但似乎感觉也挺有趣~）

由于Windows相关操作都很坑爹，比如ssh连接上就是让我掉进坑了，也算是我图省事，后来推测那个破解版的XShell估计有后门，所以连上后就被控制了。后来重装系统后我用了免费的PuTTy，其实这个足够使用了。

还有后来我试着部署一个博客系统Jekyll，windows下也是失败了，太繁琐，太麻烦了，linux上面则容易得多。突然有想买MacBook的冲动，不过穷战胜了我的欲望。我想了两天后就不想了。。。

还有什么没有提到的，大概就这些吧，这篇纯属是日记，所以也就没什么条理了~


